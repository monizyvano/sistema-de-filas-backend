<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Usuario</title>
    <link rel="stylesheet" href="css/dashusuario.css">
    <link rel="stylesheet" href="css/dashusuariomediaq.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
</head>
<body>
<header class="header">
    <div class="header-content">
        <div class="header-top">
            <div class="logo-section">
                <div class="logo">SB</div>
                <span class="site-title">Instituto Medio Tecnico Sao Benedito</span>
            </div>
            <div class="header-buttons-vertical">
                <button type="button" class="btn-profile" id="btnMeusDadosDesktop">Meus dados</button>
                <button type="button" class="btn-logout" id="btnSairUserDesktop">Sair</button>
            </div>
        </div>

        <div class="institute-name" id="userProfileName">Perfil: Usuario</div>
    </div>
</header>

<section id="meusDadosPanel" class="dados-panel">
    <div class="dados-card">
        <h3>Meus dados</h3>
        <p><strong>Nome:</strong> <span id="dadoNome">-</span></p>
        <p><strong>Email:</strong> <span id="dadoEmail">-</span></p>
        <p><strong>Perfil:</strong> <span id="dadoPerfil">-</span></p>
        <p><strong>Ultimo login:</strong> <span id="dadoLogin">-</span></p>
        <button type="button" class="btn-fechar-dados" id="btnFecharDados">Fechar</button>
    </div>
</section>

<div class="page-layout">
    <aside class="sidebar">
        <nav class="nav-item active" aria-label="Inicio">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
        </nav>

        <nav class="nav-item" aria-label="Calendario Anual" id="btnOpenCalendarNav">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        </nav>

        <nav class="nav-item" style="margin-top: auto;" aria-label="Configuracoes">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6"></path>
            </svg>
        </nav>
    </aside>

    <main class="main-content">
        <section class="hero">
            <h1 class="hero-title">Sistema de Gerenciamento de Filas</h1>
            <p class="hero-subtitle">Emita sua senha e acompanhe o atendimento em tempo real</p>

            <div class="stats-grid">
                <article class="stat-card"><div class="stat-label">Na Fila</div><div class="stat-value" id="statFila">0</div></article>
                <article class="stat-card"><div class="stat-label">Tempo Medio</div><div class="stat-value" id="statTempo">~0min</div></article>
                <article class="stat-card"><div class="stat-label">Concluidos</div><div class="stat-value" id="statDone">0</div></article>
                <article class="stat-card"><div class="stat-label">Satisfacao</div><div class="stat-value" id="statSat">0%</div></article>
            </div>

            <div class="cta-buttons">
                <button class="btn btn-normal" id="btnAtendimento" type="button">Emitir Senha</button>
                <div id="ticketMessage" class="ticket-message"></div>
            </div>
        </section>

        <section class="services-section">
            <h2 class="section-title">Tipos de servicos</h2>
            <div class="services-list" id="servicesList">
                <article class="service-card" data-grupo="Secretaria Academica">
                    <div class="service-icon">DOC</div>
                    <div class="service-info">
                        <div class="service-name">Secretaria Academica</div>
                        <div class="service-status"><span class="status-dot"></span>Balcao 1</div>
                        <select class="service-menu" data-menu="Secretaria Academica">
                            <option value="">Selecione o servico</option>
                            <option value="Matricula">Matricula</option>
                            <option value="Reconfirmacao">Reconfirmacao</option>
                            <option value="Tesouraria">Tesouraria</option>
                        </select>
                    </div>
                    <span class="arrow-icon">›</span>
                </article>

                <article class="service-card" data-grupo="Direcao Academica">
                    <div class="service-icon">PRI</div>
                    <div class="service-info">
                        <div class="service-name">Direcao Academica</div>
                        <div class="service-status"><span class="status-dot"></span>Senha prioritaria P001+</div>
                        <select class="service-menu" data-menu="Direcao Academica">
                            <option value="">Selecione o servico</option>
                            <option value="Pedido de declaracao">Pedido de declaracao</option>
                        </select>
                    </div>
                    <span class="arrow-icon">›</span>
                </article>

                <article class="service-card" data-grupo="Apoio ao Cliente" data-servico="Apoio ao Cliente">
                    <div class="service-icon">AP</div>
                    <div class="service-info"><div class="service-name">Apoio ao Cliente</div><div class="service-status"><span class="status-dot"></span>Balcao 3 (sem menu)</div></div>
                    <span class="arrow-icon">›</span>
                </article>
            </div>

            <div class="service-docs-box">
                <h3>Documentos necessarios do servico selecionado</h3>
                <ul id="serviceDocsList">
                    <li>Selecione um servico.</li>
                </ul>
                <label class="upload-label" for="docInput">Anexar documentos</label>
                <input type="file" id="docInput" multiple>
                <div id="selectedFiles" class="file-list"></div>
            </div>
        </section>

        <section class="live-display">
            <div class="live-header">
                <h3 class="section-title" style="margin: 0;">Senha Atual</h3>
                <div class="live-badge"><span class="live-dot"></span>AO VIVO</div>
            </div>

            <div class="call-display">
                <div class="call-info-left">
                    <div class="call-label">Minha Senha</div>
                    <div class="call-number" id="currentTicket">---</div>
                </div>
                <div class="call-info-right">
                    <div class="call-label">Ultima Chamada Geral</div>
                    <div class="call-location" id="ultimaChamada">---</div>
                </div>
            </div>
        </section>

        <section class="services-section">
            <h2 class="section-title">Meus Atendimentos</h2>
            <div id="ticketsList" class="tickets-list"></div>
        </section>
    </main>
</div>

<section id="calendarPanel" class="calendar-panel">
    <div class="calendar-card">
        <div class="calendar-head">
            <h3>Calendario Anual</h3>
            <button type="button" class="btn-fechar-dados" id="btnCloseCalendar">Fechar</button>
        </div>
        <div class="calendar-controls">
            <button type="button" id="btnPrevYear">Ano Anterior</button>
            <strong id="calendarYearLabel">-</strong>
            <button type="button" id="btnNextYear">Proximo Ano</button>
        </div>
        <div class="calendar-legend">
            <span class="legend-dot"></span>
            <span>Dias marcados com provas, exames, jornadas e inicio de aulas</span>
        </div>
        <div id="annualCalendarGrid" class="annual-calendar-grid"></div>
    </div>
</section>

<script src="js/api-config.js"></script>
<script src="js/api-client.js"></script>
<script src="js/realtime-store.js"></script>
<script src="js/dashusuario.js"></script>
</body>
</html>






